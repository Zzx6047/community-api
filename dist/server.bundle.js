!function(Q){var B={};function n(c){if(B[c])return B[c].exports;var U=B[c]={i:c,l:!1,exports:{}};return Q[c].call(U.exports,U,U.exports,n),U.l=!0,U.exports}n.m=Q,n.c=B,n.d=function(Q,B,c){n.o(Q,B)||Object.defineProperty(Q,B,{enumerable:!0,get:c})},n.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},n.t=function(Q,B){if(1&B&&(Q=n(Q)),8&B)return Q;if(4&B&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var c=Object.create(null);if(n.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:Q}),2&B&&"string"!=typeof Q)for(var U in Q)n.d(c,U,function(B){return Q[B]}.bind(null,U));return c},n.n=function(Q){var B=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return n.d(B,"a",B),B},n.o=function(Q,B){return Object.prototype.hasOwnProperty.call(Q,B)},n.p="",n(n.s=22)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("const DB_URL = 'mongodb://121.36.140.182:27017/testdb';\nconst REDIS = {\n  host: '121.36.140.182',\n  port: 6379 // password: ''\n\n};\nconst JWT_SECRET = 'a&*38QthAKuiRwISGLotgq^3%^$zvA3A6Hfr8MF$jM*HY4*dWcwAW&9NGp7*b53!';\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  DB_URL,\n  REDIS,\n  JWT_SECRET\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL2luZGV4LmpzP2YxMjEiXSwibmFtZXMiOlsiREJfVVJMIiwiUkVESVMiLCJob3N0IiwicG9ydCIsIkpXVF9TRUNSRVQiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE1BQU0sR0FBRyx1Q0FBZjtBQUNBLE1BQU1DLEtBQUssR0FBRztBQUNaQyxNQUFJLEVBQUUsZ0JBRE07QUFFWkMsTUFBSSxFQUFFLElBRk0sQ0FHWjs7QUFIWSxDQUFkO0FBS0EsTUFBTUMsVUFBVSxHQUFHLGtFQUFuQjtBQUVlO0FBQ2JKLFFBRGE7QUFFYkMsT0FGYTtBQUdiRztBQUhhLENBQWYiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IERCX1VSTCA9ICdtb25nb2RiOi8vMTIxLjM2LjE0MC4xODI6MjcwMTcvdGVzdGRiJ1xyXG5jb25zdCBSRURJUyA9IHtcclxuICBob3N0OiAnMTIxLjM2LjE0MC4xODInLFxyXG4gIHBvcnQ6IDYzNzksXHJcbiAgLy8gcGFzc3dvcmQ6ICcnXHJcbn1cclxuY29uc3QgSldUX1NFQ1JFVCA9ICdhJiozOFF0aEFLdWlSd0lTR0xvdGdxXjMlXiR6dkEzQTZIZnI4TUYkak0qSFk0KmRXY3dBVyY5TkdwNypiNTMhJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIERCX1VSTCxcclxuICBSRURJUyxcclxuICBKV1RfU0VDUkVUXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")},function(module,exports){eval('module.exports = require("mongoose");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb25nb29zZVwiP2ZmZDciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm1vbmdvb3NlXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n')},function(module,exports){eval('module.exports = require("dayjs");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkYXlqc1wiPzNhYTAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImRheWpzXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n')},function(module,exports){eval('module.exports = require("koa-router");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etcm91dGVyXCI/MDM1ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLXJvdXRlclwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n')},function(module,exports){eval('module.exports = require("redis");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWRpc1wiPzcwNmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlZGlzXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4\n')},function(module,exports){eval('module.exports = require("koa");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2FcIj9lZWI5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2FcIik7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n')},function(module,exports){eval('module.exports = require("koa-jwt");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etand0XCI/ZWIwZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLWp3dFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6\n')},function(module,exports){eval('module.exports = require("path");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXRoXCI/NzRiYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGF0aFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7\n')},function(module,exports){eval('module.exports = require("koa-helmet");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtaGVsbWV0XCI/NDJkMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLWhlbG1ldFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8\n')},function(module,exports){eval('module.exports = require("koa-static");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etc3RhdGljXCI/OWE0YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI5LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLXN0YXRpY1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9\n')},function(module,exports){eval('module.exports = require("koa-combine-routers");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tYmluZS1yb3V0ZXJzXCI/MmM3NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImtvYS1jb21iaW5lLXJvdXRlcnNcIik7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///10\n')},function(module,exports){eval('module.exports = require("svg-captcha");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJzdmctY2FwdGNoYVwiP2NjNjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJzdmctY2FwdGNoYVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///11\n')},function(module,exports){eval('module.exports = require("bluebird");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJibHVlYmlyZFwiPzJjNmIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJibHVlYmlyZFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///12\n')},function(module,exports){eval('module.exports = require("nodemailer");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJub2RlbWFpbGVyXCI/M2Q1NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm5vZGVtYWlsZXJcIik7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///13\n')},function(module,exports){eval('module.exports = require("jsonwebtoken");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqc29ud2VidG9rZW5cIj82NDkwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjE0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///14\n')},function(module,exports){eval('module.exports = require("koa-body");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtYm9keVwiPzNmNjUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtYm9keVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///15\n')},function(module,exports){eval('module.exports = require("koa-json");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtanNvblwiPzY1MjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtanNvblwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///16\n')},function(module,exports){eval('module.exports = require("@koa/cors");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAa29hL2NvcnNcIj9hNjk1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjE3LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiQGtvYS9jb3JzXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///17\n')},function(module,exports){eval('module.exports = require("koa-compose");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tcG9zZVwiPzczMTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtY29tcG9zZVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///18\n')},function(module,exports){eval('module.exports = require("koa-compress");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tcHJlc3NcIj9hNmY2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjE5LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLWNvbXByZXNzXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///19\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony default export */ __webpack_exports__[\"a\"] = ((ctx, next) => {\n  return next().catch(err => {\n    if (401 == err.status) {\n      ctx.status = 401;\n      ctx.body = {\n        code: 401,\n        msg: 'Protected resource, use Authorization header to get access\\n'\n      };\n    } else {\n      // debugger\n      ctx.status = err.status || 500;\n      ctx.body = Object.assign({\n        code: 500,\n        msg: err.message\n      },  true ? {\n        stack: err.stack\n      } : undefined); // console.log(err.stack);\n    }\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL0Vycm9ySGFuZGxlLmpzPzQxZWIiXSwibmFtZXMiOlsiY3R4IiwibmV4dCIsImNhdGNoIiwiZXJyIiwic3RhdHVzIiwiYm9keSIsImNvZGUiLCJtc2ciLCJPYmplY3QiLCJhc3NpZ24iLCJtZXNzYWdlIiwicHJvY2VzcyIsInN0YWNrIl0sIm1hcHBpbmdzIjoiQUFBZSwwREFBQ0EsR0FBRCxFQUFNQyxJQUFOLEtBQWU7QUFDNUIsU0FBT0EsSUFBSSxHQUFHQyxLQUFQLENBQWNDLEdBQUQsSUFBUztBQUMzQixRQUFJLE9BQU9BLEdBQUcsQ0FBQ0MsTUFBZixFQUF1QjtBQUNyQkosU0FBRyxDQUFDSSxNQUFKLEdBQWEsR0FBYjtBQUNBSixTQUFHLENBQUNLLElBQUosR0FBVztBQUNUQyxZQUFJLEVBQUUsR0FERztBQUVUQyxXQUFHLEVBQUU7QUFGSSxPQUFYO0FBSUQsS0FORCxNQU1PO0FBQ0w7QUFDQVAsU0FBRyxDQUFDSSxNQUFKLEdBQWFELEdBQUcsQ0FBQ0MsTUFBSixJQUFjLEdBQTNCO0FBQ0FKLFNBQUcsQ0FBQ0ssSUFBSixHQUFXRyxNQUFNLENBQUNDLE1BQVAsQ0FBYztBQUN2QkgsWUFBSSxFQUFFLEdBRGlCO0FBRXZCQyxXQUFHLEVBQUVKLEdBQUcsQ0FBQ087QUFGYyxPQUFkLEVBR1JDLEtBQUEsR0FDRDtBQUFFQyxhQUFLLEVBQUVULEdBQUcsQ0FBQ1M7QUFBYixPQURDLEdBQ3NCLFNBSmQsQ0FBWCxDQUhLLENBUUw7QUFDRDtBQUNGLEdBakJNLENBQVA7QUFrQkQsQ0FuQkQiLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCAoY3R4LCBuZXh0KSA9PiB7XHJcbiAgcmV0dXJuIG5leHQoKS5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBpZiAoNDAxID09IGVyci5zdGF0dXMpIHtcclxuICAgICAgY3R4LnN0YXR1cyA9IDQwMTtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNDAxLFxyXG4gICAgICAgIG1zZzogJ1Byb3RlY3RlZCByZXNvdXJjZSwgdXNlIEF1dGhvcml6YXRpb24gaGVhZGVyIHRvIGdldCBhY2Nlc3NcXG4nXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIGRlYnVnZ2VyXHJcbiAgICAgIGN0eC5zdGF0dXMgPSBlcnIuc3RhdHVzIHx8IDUwMFxyXG4gICAgICBjdHguYm9keSA9IE9iamVjdC5hc3NpZ24oe1xyXG4gICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICBtc2c6IGVyci5tZXNzYWdlLFxyXG4gICAgICB9LCBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/XHJcbiAgICAgICAgeyBzdGFjazogZXJyLnN0YWNrIH0gOiB7fSlcclxuICAgICAgLy8gY29uc29sZS5sb2coZXJyLnN0YWNrKTtcclxuICAgIH1cclxuICB9KTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///20\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("\n// EXTERNAL MODULE: external \"koa-combine-routers\"\nvar external_koa_combine_routers_ = __webpack_require__(10);\nvar external_koa_combine_routers_default = /*#__PURE__*/__webpack_require__.n(external_koa_combine_routers_);\n\n// EXTERNAL MODULE: external \"koa-router\"\nvar external_koa_router_ = __webpack_require__(3);\nvar external_koa_router_default = /*#__PURE__*/__webpack_require__.n(external_koa_router_);\n\n// EXTERNAL MODULE: external \"svg-captcha\"\nvar external_svg_captcha_ = __webpack_require__(11);\nvar external_svg_captcha_default = /*#__PURE__*/__webpack_require__.n(external_svg_captcha_);\n\n// EXTERNAL MODULE: external \"redis\"\nvar external_redis_ = __webpack_require__(4);\nvar external_redis_default = /*#__PURE__*/__webpack_require__.n(external_redis_);\n\n// EXTERNAL MODULE: external \"bluebird\"\nvar external_bluebird_ = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./src/config/index.js\nvar config = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/config/RedisConfig.js\n\n\n\nconst RedisConfig_options = {\n  host: config[\"a\" /* default */].REDIS.host,\n  port: config[\"a\" /* default */].REDIS.port,\n  password: config[\"a\" /* default */].REDIS.password,\n  detect_buffers: true,\n  retry_strategy: function (options) {\n    if (options.error && options.error.code === 'ECONNREFUSED') {\n      // End reconnecting on a specific error and flush all commands with\n      // a individual error\n      return new Error('The server refused the connection');\n    }\n\n    if (options.total_retry_time > 1000 * 60 * 60) {\n      // End reconnecting after a specific timeout and flush all commands\n      // with a individual error\n      return new Error('Retry time exhausted');\n    }\n\n    if (options.attempt > 10) {\n      // End reconnecting with built in error\n      return undefined;\n    } // reconnect after\n\n\n    return Math.min(options.attempt * 100, 3000);\n  }\n}; // const client = redis.createClient(options)\n\nconst client = Object(external_bluebird_[\"promisifyAll\"])(external_redis_default.a.createClient(RedisConfig_options));\nclient.on('error', err => {\n  console.log('Redis Client Error:' + err);\n});\n\nconst setValue = (key, value, time) => {\n  if (typeof value === 'undefined' || value == null || value === '') {\n    return;\n  }\n\n  if (typeof value === 'string') {\n    if (typeof time !== 'undefined') {\n      client.set(key, value, 'EX', time);\n    } else {\n      client.set(key, value);\n    }\n  } else if (typeof value === 'object') {\n    // { key1: value1, key2: value2}\n    // Object.keys(value) => [key1, key2]\n    Object.keys(value).forEach(item => {\n      client.hset(key, item, value[item], external_redis_default.a.print);\n    });\n  }\n}; // const {promisify} = require('util');\n// const getAsync = promisify(client.get).bind(client);\n\n\nconst getValue = key => {\n  return client.getAsync(key);\n};\n\nconst getHValue = key => {\n  // v8 Promisify method use util, must node > 8\n  // return promisify(client.hgetall).bind(client)(key)\n  // bluebird async\n  return client.hgetallAsync(key);\n};\n\nconst delValue = key => {\n  client.del(key, (err, res) => {\n    if (res === 1) {\n      console.log('delete successfully');\n    } else {\n      console.log('delete redis key error:' + err);\n    }\n  });\n};\n\n\n// CONCATENATED MODULE: ./src/api/PublicController.js\n\n\n\nclass PublicController_PublicController {\n  constructor() {}\n\n  async getCaptcha(ctx) {\n    const body = ctx.request.query;\n    const newCaptca = external_svg_captcha_default.a.create({\n      size: 4,\n      ignoreChars: '0o1il',\n      color: true,\n      noise: Math.floor(Math.random() * 5),\n      width: 150,\n      height: 38\n    }); // 保存图片验证码数据，设置超时时间，单位: s\n    // 设置图片验证码超时10分钟\n\n    setValue(body.sid, newCaptca.text, 10 * 60);\n    ctx.body = {\n      code: 200,\n      data: newCaptca.data\n    };\n  }\n\n}\n\n/* harmony default export */ var api_PublicController = (new PublicController_PublicController());\n// EXTERNAL MODULE: external \"mongoose\"\nvar external_mongoose_ = __webpack_require__(1);\nvar external_mongoose_default = /*#__PURE__*/__webpack_require__.n(external_mongoose_);\n\n// CONCATENATED MODULE: ./src/config/DBHelpler.js\n\n // 创建连接\n\nexternal_mongoose_default.a.connect(config[\"a\" /* default */].DB_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}); // 连接成功\n\nexternal_mongoose_default.a.connection.on('connected', () => {\n  console.log('Mongoose connection open to ' + config[\"a\" /* default */].DB_URL);\n}); // 连接异常\n\nexternal_mongoose_default.a.connection.on('error', err => {\n  console.log('Mongoose connection error: ' + err);\n}); // 断开连接\n\nexternal_mongoose_default.a.connection.on('disconnected', () => {\n  console.log('Mongoose connection disconnected');\n});\n/* harmony default export */ var DBHelpler = (external_mongoose_default.a);\n// EXTERNAL MODULE: external \"dayjs\"\nvar external_dayjs_ = __webpack_require__(2);\nvar external_dayjs_default = /*#__PURE__*/__webpack_require__.n(external_dayjs_);\n\n// CONCATENATED MODULE: ./src/model/Post.js\n\n\nconst Schema = DBHelpler.Schema;\nconst PostSchema = new Schema({\n  uid: {\n    type: String,\n    ref: 'users'\n  },\n  title: {\n    type: String\n  },\n  content: {\n    type: String\n  },\n  created: {\n    type: Date\n  },\n  catalog: {\n    type: String\n  },\n  fav: {\n    type: String\n  },\n  isEnd: {\n    type: String\n  },\n  reads: {\n    type: Number\n  },\n  answer: {\n    type: Number\n  },\n  status: {\n    type: String\n  },\n  isTop: {\n    type: String\n  },\n  sort: {\n    type: String\n  },\n  tags: {\n    type: String\n  }\n});\nPostSchema.pre('save', function (next) {\n  this.created = external_dayjs_default()().format('YYYY-MM-DD HH:mm:ss');\n  next();\n});\nPostSchema.statics = {\n  /**\r\n   * \r\n   * @param {Object} options 筛选条件 \r\n   * @param {String} sort 排序方式\r\n   * @param {Number} page 分页页数\r\n   * @param {Number} limit 分页条数\r\n   */\n  getList: function (options, sort, page, limit) {\n    return this.find(options).sort({\n      [sort]: -1\n    }).skip(page * limit).limit(limit).populate({\n      path: 'uid',\n      select: 'name'\n    });\n  }\n};\nconst PostModel = DBHelpler.model('post', PostSchema);\n/* harmony default export */ var Post = (PostModel);\n// CONCATENATED MODULE: ./src/api/ContentController.js\n\n\nclass ContentController_ContentController {\n  async getPostList(ctx) {\n    const body = ctx.query;\n    console.log('123'); // const post = new Post({\n    //     title: 'test title',\n    //     content: 'test content',\n    //     catalog: 'ask',\n    //     fav: 20,\n    //     isEnd: '0',\n    //     reads: '0',\n    //     answer: '0',\n    //     status: '0',\n    //     isTop: '0',\n    //     sort: '0',\n    //     tags: [{\n    //         name: '精华',\n    //         class: ''\n    //     }]\n    // })\n    // const tmp = await post.save()\n    // console.log('保存成功');\n    // console.log(tmp)\n\n    const sort = body.sort ? body.sort : 'created';\n    const page = body.page ? parseInt(body.page) : 0;\n    const limit = body.limit ? parseInt(body.limit) : 20;\n    let options = {};\n\n    if (typeof body.catalog !== 'undefined' && body.catalog !== '') {\n      options.catalog = body.catalog;\n    }\n\n    if (typeof body.isTop !== 'undefined') {\n      options.isTop = body.isTop;\n    }\n\n    if (typeof body.status !== 'undefined') {\n      options.status = body.status;\n    }\n\n    if (typeof body.isEnd !== 'undefined') {\n      options.isEnd = body.isEnd;\n    }\n\n    if (typeof body.tag !== 'undefined' && body.tag !== '') {\n      options.tags = {\n        $elemMatch: {\n          name: body.tag\n        }\n      };\n    }\n\n    const result = await Post.getList(options, sort, page, limit);\n    ctx.body = {\n      code: 200,\n      data: result,\n      msg: '获取文章列表成功'\n    };\n  }\n\n}\n\n/* harmony default export */ var api_ContentController = (new ContentController_ContentController());\n// CONCATENATED MODULE: ./src/routes/publicRouter.js\n\n\n\nconst router = new external_koa_router_default.a();\nrouter.prefix('/public');\nrouter.get('/getCaptcha', api_PublicController.getCaptcha);\nrouter.get('/list', api_ContentController.getPostList);\n/* harmony default export */ var publicRouter = (router);\n// EXTERNAL MODULE: external \"nodemailer\"\nvar external_nodemailer_ = __webpack_require__(13);\nvar external_nodemailer_default = /*#__PURE__*/__webpack_require__.n(external_nodemailer_);\n\n// CONCATENATED MODULE: ./src/config/MailConfig.js\n // async..await is not allowed in global scope, must use a wrapper\n\nasync function send(sendInfo) {\n  // Generate test SMTP service account from ethereal.email\n  // Only needed if you don't have a real mail account for testing\n  // let testAccount = await nodemailer.createTestAccount()\n  // create reusable transporter object using the default SMTP transport\n  let transporter = external_nodemailer_default.a.createTransport({\n    host: 'smtp.qq.com',\n    port: 587,\n    secure: false,\n    // true for 465, false for other ports\n    auth: {\n      user: 'imoocbrian@qq.com',\n      // generated ethereal user\n      pass: 'rbkcbxwrurygjfca' // generated ethereal password\n\n    }\n  }); // let sendInfo = {\n  //   code: '1234',\n  //   expire: '2019-10-01',\n  //   email: 'imoocbrian@qq.com',\n  //   user: 'Brian',\n  // }\n\n  let url = 'http://www.imooc.com'; // send mail with defined transport object\n\n  let info = await transporter.sendMail({\n    from: '\"认证邮件\" <imoocbrian@qq.com>',\n    // sender address\n    to: sendInfo.email,\n    // list of receivers\n    subject: sendInfo.user !== '' ? `你好开发者，${sendInfo.user}！《慕课网前端全栈实践》注册码` : '《慕课网前端全栈实践》注册码',\n    // Subject line\n    text: `您在《慕课网前端全栈实践》课程中注册，您的邀请码是${sendInfo.code},邀请码的过期时间: ${sendInfo.expire}`,\n    // plain text body\n    html: `\n        <div style=\"border: 1px solid #dcdcdc;color: #676767;width: 600px; margin: 0 auto; padding-bottom: 50px;position: relative;\">\n        <div style=\"height: 60px; background: #393d49; line-height: 60px; color: #58a36f; font-size: 18px;padding-left: 10px;\">Imooc社区——欢迎来到官方社区</div>\n        <div style=\"padding: 25px\">\n          <div>您好，${sendInfo.user}童鞋，重置链接有效时间30分钟，请在${sendInfo.expire}之前重置您的密码：</div>\n          <a href=\"${url}\" style=\"padding: 10px 20px; color: #fff; background: #009e94; display: inline-block;margin: 15px 0;\">立即重置密码</a>\n          <div style=\"padding: 5px; background: #f2f2f2;\">如果该邮件不是由你本人操作，请勿进行激活！否则你的邮箱将会被他人绑定。</div>\n        </div>\n        <div style=\"background: #fafafa; color: #b4b4b4;text-align: center; line-height: 45px; height: 45px; position: absolute; left: 0; bottom: 0;width: 100%;\">系统邮件，请勿直接回复</div>\n    </div>\n    ` // html body\n\n  });\n  return 'Message sent: %s', info.messageId; // Message sent: <b658f8ca-6296-ccf4-8306-87d57a0b4321@example.com>\n  // Preview only available when sending through an Ethereal account\n  // console.log('Preview URL: %s', nodemailer.getTestMessageUrl(info))\n  // Preview URL: https://ethereal.email/message/WaQKMgKddxQDoou...\n} // main().catch(console.error)\n\n\n/* harmony default export */ var MailConfig = (send);\n// EXTERNAL MODULE: external \"jsonwebtoken\"\nvar external_jsonwebtoken_ = __webpack_require__(14);\nvar external_jsonwebtoken_default = /*#__PURE__*/__webpack_require__.n(external_jsonwebtoken_);\n\n// CONCATENATED MODULE: ./src/common/Utils.js\n\n\nconst checkCode = async (key, value) => {\n  const redisData = await getValue(key);\n\n  if (redisData != null) {\n    if (redisData.toLowerCase() === value.toLowerCase()) {\n      return true;\n    } else {\n      return false;\n    }\n  } else {\n    return false;\n  }\n};\n\n\n// CONCATENATED MODULE: ./src/model/User.js\n\nconst User_Schema = DBHelpler.Schema;\nconst UserSchema = new User_Schema({\n  'username': {\n    type: String\n  },\n  'password': {\n    type: String\n  }\n});\nconst UserModel = DBHelpler.model('users', UserSchema);\n/* harmony default export */ var User = (UserModel);\n// CONCATENATED MODULE: ./src/api/LoginController.js\n\n\n\n\n\n\n\nclass LoginController_LoginController {\n  constructor() {}\n\n  async forget(ctx) {\n    const {\n      body\n    } = ctx.request;\n    console.log(body);\n\n    try {\n      // body.username -> database -> email\n      let result = await MailConfig({\n        code: '1234',\n        expire: external_dayjs_default()().add(30, 'minutes').format('YYYY-MM-DD HH:mm:ss'),\n        email: body.username,\n        user: 'Brian'\n      });\n      ctx.body = {\n        code: 200,\n        data: result,\n        msg: '邮件发送成功'\n      };\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  async login(ctx) {\n    // debugger\n    // 接收用户的数据\n    // 返回token\n    const {\n      body\n    } = ctx.request;\n    let sid = body.sid;\n    let code = body.code; // 验证图片验证码的时效性、正确性\n\n    let result = await checkCode(sid, code);\n\n    if (result) {\n      // 验证用户账号密码是否正确\n      let checkUserPasswd = false;\n      let user = await User.findOne({\n        username: body.username\n      });\n\n      if (user.password === body.password) {\n        checkUserPasswd = true;\n      } // mongoDB查库\n\n\n      if (checkUserPasswd) {\n        // 验证通过，返回Token数据\n        console.log('Hello login');\n        let token = external_jsonwebtoken_default.a.sign({\n          _id: 'zzx'\n        }, config[\"a\" /* default */].JWT_SECRET, {\n          expiresIn: '1d'\n        });\n        ctx.body = {\n          code: 200,\n          token: token\n        };\n      } else {\n        // 用户名 密码验证失败，返回提示\n        ctx.body = {\n          code: 404,\n          msg: '用户名或者密码错误'\n        };\n      }\n    } else {\n      // 图片验证码校验失败\n      ctx.body = {\n        code: 401,\n        msg: '图片验证码不正确,请检查！'\n      };\n    }\n  }\n\n  async reg(ctx) {\n    // 接收客户端的数据\n    const {\n      body\n    } = ctx.request; // 校验验证码的内容（时效性、有效性）\n\n    let sid = body.sid;\n    let code = body.code;\n    let msg = {}; // 验证图片验证码的时效性、正确性\n\n    let result = await checkCode(sid, code);\n    let check = true;\n\n    if (result) {\n      // 查库，看username是否被注册\n      let user1 = await User.findOne({\n        username: body.username\n      });\n\n      if (user1 !== null && typeof user1.username !== 'undefined') {\n        msg.username = ['此邮箱已经注册，可以通过邮箱找回密码'];\n        check = false;\n      }\n\n      let user2 = await User.findOne({\n        name: body.name\n      }); // 查库，看name是否被注册\n\n      if (user2 !== null && typeof user2.name !== 'undefined') {\n        msg.name = ['此昵称已经被注册，请修改'];\n        check = false;\n      } // 写入数据到数据库\n\n\n      if (check) {\n        body.password = await bcrypt.hash(body.password, 5);\n        let user = new User({\n          username: body.username,\n          name: body.name,\n          password: body.password,\n          created: external_dayjs_default()().format('YYYY-MM-DD HH:mm:ss')\n        });\n        let result = await user.save();\n        ctx.body = {\n          code: 200,\n          data: result,\n          msg: '注册成功'\n        };\n        return;\n      }\n    } else {\n      // veevalidate 显示的错误\n      msg.code = ['验证码已经失效，请重新获取！'];\n    }\n\n    ctx.body = {\n      code: 500,\n      msg: msg\n    };\n  }\n\n}\n\n/* harmony default export */ var api_LoginController = (new LoginController_LoginController());\n// CONCATENATED MODULE: ./src/routes/loginRouter.js\n\n\nconst loginRouter_router = new external_koa_router_default.a();\nloginRouter_router.prefix('/login');\nloginRouter_router.post('/forget', api_LoginController.forget);\nloginRouter_router.post('/login', api_LoginController.login);\n/* harmony default export */ var loginRouter = (loginRouter_router);\n// CONCATENATED MODULE: ./src/routes/routes.js\n\n\n\n/* harmony default export */ var routes = __webpack_exports__[\"a\"] = (external_koa_combine_routers_default()(publicRouter, loginRouter));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL1JlZGlzQ29uZmlnLmpzP2I3ODkiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwaS9QdWJsaWNDb250cm9sbGVyLmpzPzY4YWUiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmZpZy9EQkhlbHBsZXIuanM/ZTY4NCIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvUG9zdC5qcz81OWM1Iiwid2VicGFjazovLy8uL3NyYy9hcGkvQ29udGVudENvbnRyb2xsZXIuanM/MjU2NSIsIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL3B1YmxpY1JvdXRlci5qcz9kM2M1Iiwid2VicGFjazovLy8uL3NyYy9jb25maWcvTWFpbENvbmZpZy5qcz8yZGIxIiwid2VicGFjazovLy8uL3NyYy9jb21tb24vVXRpbHMuanM/YjRkZiIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvVXNlci5qcz83NmZlIiwid2VicGFjazovLy8uL3NyYy9hcGkvTG9naW5Db250cm9sbGVyLmpzPzk1MDciLCJ3ZWJwYWNrOi8vLy4vc3JjL3JvdXRlcy9sb2dpblJvdXRlci5qcz8zZGQxIiwid2VicGFjazovLy8uL3NyYy9yb3V0ZXMvcm91dGVzLmpzPzY0MWIiXSwibmFtZXMiOlsib3B0aW9ucyIsImhvc3QiLCJjb25maWciLCJSRURJUyIsInBvcnQiLCJwYXNzd29yZCIsImRldGVjdF9idWZmZXJzIiwicmV0cnlfc3RyYXRlZ3kiLCJlcnJvciIsImNvZGUiLCJFcnJvciIsInRvdGFsX3JldHJ5X3RpbWUiLCJhdHRlbXB0IiwidW5kZWZpbmVkIiwiTWF0aCIsIm1pbiIsImNsaWVudCIsInByb21pc2lmeUFsbCIsInJlZGlzIiwiY3JlYXRlQ2xpZW50Iiwib24iLCJlcnIiLCJjb25zb2xlIiwibG9nIiwic2V0VmFsdWUiLCJrZXkiLCJ2YWx1ZSIsInRpbWUiLCJzZXQiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsIml0ZW0iLCJoc2V0IiwicHJpbnQiLCJnZXRWYWx1ZSIsImdldEFzeW5jIiwiZ2V0SFZhbHVlIiwiaGdldGFsbEFzeW5jIiwiZGVsVmFsdWUiLCJkZWwiLCJyZXMiLCJQdWJsaWNDb250cm9sbGVyIiwiY29uc3RydWN0b3IiLCJnZXRDYXB0Y2hhIiwiY3R4IiwiYm9keSIsInJlcXVlc3QiLCJxdWVyeSIsIm5ld0NhcHRjYSIsInN2Z0NhcHRjaGEiLCJjcmVhdGUiLCJzaXplIiwiaWdub3JlQ2hhcnMiLCJjb2xvciIsIm5vaXNlIiwiZmxvb3IiLCJyYW5kb20iLCJ3aWR0aCIsImhlaWdodCIsInNpZCIsInRleHQiLCJkYXRhIiwibW9uZ29vc2UiLCJjb25uZWN0IiwiREJfVVJMIiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiY29ubmVjdGlvbiIsIlNjaGVtYSIsIlBvc3RTY2hlbWEiLCJ1aWQiLCJ0eXBlIiwiU3RyaW5nIiwicmVmIiwidGl0bGUiLCJjb250ZW50IiwiY3JlYXRlZCIsIkRhdGUiLCJjYXRhbG9nIiwiZmF2IiwiaXNFbmQiLCJyZWFkcyIsIk51bWJlciIsImFuc3dlciIsInN0YXR1cyIsImlzVG9wIiwic29ydCIsInRhZ3MiLCJwcmUiLCJuZXh0IiwibW9tZW50IiwiZm9ybWF0Iiwic3RhdGljcyIsImdldExpc3QiLCJwYWdlIiwibGltaXQiLCJmaW5kIiwic2tpcCIsInBvcHVsYXRlIiwicGF0aCIsInNlbGVjdCIsIlBvc3RNb2RlbCIsIm1vZGVsIiwiQ29udGVudENvbnRyb2xsZXIiLCJnZXRQb3N0TGlzdCIsInBhcnNlSW50IiwidGFnIiwiJGVsZW1NYXRjaCIsIm5hbWUiLCJyZXN1bHQiLCJQb3N0IiwibXNnIiwicm91dGVyIiwiUm91dGVyIiwicHJlZml4IiwiZ2V0IiwicHVibGljQ29udHJvbGxlciIsImNvbnRlbnRDb250cm9sbGVyIiwic2VuZCIsInNlbmRJbmZvIiwidHJhbnNwb3J0ZXIiLCJub2RlbWFpbGVyIiwiY3JlYXRlVHJhbnNwb3J0Iiwic2VjdXJlIiwiYXV0aCIsInVzZXIiLCJwYXNzIiwidXJsIiwiaW5mbyIsInNlbmRNYWlsIiwiZnJvbSIsInRvIiwiZW1haWwiLCJzdWJqZWN0IiwiZXhwaXJlIiwiaHRtbCIsIm1lc3NhZ2VJZCIsImNoZWNrQ29kZSIsInJlZGlzRGF0YSIsInRvTG93ZXJDYXNlIiwiVXNlclNjaGVtYSIsIlVzZXJNb2RlbCIsIkxvZ2luQ29udHJvbGxlciIsImZvcmdldCIsImFkZCIsInVzZXJuYW1lIiwiZSIsImxvZ2luIiwiY2hlY2tVc2VyUGFzc3dkIiwiVXNlciIsImZpbmRPbmUiLCJ0b2tlbiIsImpzb253ZWJ0b2tlbiIsInNpZ24iLCJfaWQiLCJKV1RfU0VDUkVUIiwiZXhwaXJlc0luIiwicmVnIiwiY2hlY2siLCJ1c2VyMSIsInVzZXIyIiwiYmNyeXB0IiwiaGFzaCIsInNhdmUiLCJwb3N0IiwibG9naW5Db250cm9sbGVyIiwiY29tYmluZVJvdXRlcyIsInB1YmxpY1JvdXRlciIsImxvZ2luUm91dGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQSxNQUFNQSxtQkFBTyxHQUFHO0FBQ2RDLE1BQUksRUFBRUMseUJBQU0sQ0FBQ0MsS0FBUCxDQUFhRixJQURMO0FBRWRHLE1BQUksRUFBRUYseUJBQU0sQ0FBQ0MsS0FBUCxDQUFhQyxJQUZMO0FBR2RDLFVBQVEsRUFBRUgseUJBQU0sQ0FBQ0MsS0FBUCxDQUFhRSxRQUhUO0FBSWRDLGdCQUFjLEVBQUUsSUFKRjtBQUtkQyxnQkFBYyxFQUFFLFVBQVVQLE9BQVYsRUFBbUI7QUFDakMsUUFBSUEsT0FBTyxDQUFDUSxLQUFSLElBQWlCUixPQUFPLENBQUNRLEtBQVIsQ0FBY0MsSUFBZCxLQUF1QixjQUE1QyxFQUE0RDtBQUMxRDtBQUNBO0FBQ0EsYUFBTyxJQUFJQyxLQUFKLENBQVUsbUNBQVYsQ0FBUDtBQUNEOztBQUNELFFBQUlWLE9BQU8sQ0FBQ1csZ0JBQVIsR0FBMkIsT0FBTyxFQUFQLEdBQVksRUFBM0MsRUFBK0M7QUFDN0M7QUFDQTtBQUNBLGFBQU8sSUFBSUQs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TUFGRztBQUdURSxhQUFHLEVBQUU7QUFISSxTQUFYO0FBS0E7QUFDRDtBQUNGLEtBOUJELE1BOEJPO0FBQ0w7QUFDQUEsU0FBRyxDQUFDdkcsSUFBSixHQUFXLENBQUMsZ0JBQUQsQ0FBWDtBQUNEOztBQUNEb0MsT0FBRyxDQUFDQyxJQUFKLEdBQVc7QUFDVHJDLFVBQUksRUFBRSxHQURHO0FBRVR1RyxTQUFHLEVBQUVBO0FBRkksS0FBWDtBQUlEOztBQXBIbUI7O0FBdUhQLDREQUFJK0IsK0JBQUosRUFBZixFOztBQzlIQTtBQUNBO0FBRUEsTUFBTTlCLGtCQUFNLEdBQUcsSUFBSUMsNkJBQUosRUFBZjtBQUVBRCxrQkFBTSxDQUFDRSxNQUFQLENBQWMsUUFBZDtBQUNBRixrQkFBTSxDQUFDb0QsSUFBUCxDQUFZLFNBQVosRUFBdUJDLG1CQUFlLENBQUN0QixNQUF2QztBQUNBL0Isa0JBQU0sQ0FBQ29ELElBQVAsQ0FBWSxRQUFaLEVBQXNCQyxtQkFBZSxDQUFDbEIsS0FBdEM7QUFFZW5DLGtFQUFmLEU7O0FDVEE7QUFFQTtBQUNBO0FBRWVzRCw0R0FBYSxDQUFDQyxZQUFELEVBQWVDLFdBQWYsQ0FBNUIiLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcmVkaXMgZnJvbSAncmVkaXMnXHJcbmltcG9ydCB7IHByb21pc2lmeUFsbCB9IGZyb20gJ2JsdWViaXJkJ1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vaW5kZXgnXHJcblxyXG5jb25zdCBvcHRpb25zID0ge1xyXG4gIGhvc3Q6IGNvbmZpZy5SRURJUy5ob3N0LFxyXG4gIHBvcnQ6IGNvbmZpZy5SRURJUy5wb3J0LFxyXG4gIHBhc3N3b3JkOiBjb25maWcuUkVESVMucGFzc3dvcmQsXHJcbiAgZGV0ZWN0X2J1ZmZlcnM6IHRydWUsXHJcbiAgcmV0cnlfc3RyYXRlZ3k6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICBpZiAob3B0aW9ucy5lcnJvciAmJiBvcHRpb25zLmVycm9yLmNvZGUgPT09ICdFQ09OTlJFRlVTRUQnKSB7XHJcbiAgICAgIC8vIEVuZCByZWNvbm5lY3Rpbmcgb24gYSBzcGVjaWZpYyBlcnJvciBhbmQgZmx1c2ggYWxsIGNvbW1hbmRzIHdpdGhcclxuICAgICAgLy8gYSBpbmRpdmlkdWFsIGVycm9yXHJcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ1RoZSBzZXJ2ZXIgcmVmdXNlZCB0aGUgY29ubmVjdGlvbicpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbnMudG90YWxfcmV0cnlfdGltZSA+IDEwMDAgKiA2MCAqIDYwKSB7XHJcbiAgICAgIC8vIEVuZCByZWNvbm5lY3RpbmcgYWZ0ZXIgYSBzcGVjaWZpYyB0aW1lb3V0IGFuZCBmbHVzaCBhbGwgY29tbWFuZHNcclxuICAgICAgLy8gd2l0aCBhIGluZGl2aWR1YWwgZXJyb3JcclxuICAgICAgcmV0dXJuIG5ldyBFcnJvcignUmV0cnkgdGltZSBleGhhdXN0ZWQnKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zLmF0dGVtcHQgPiAxMCkge1xyXG4gICAgICAvLyBFbmQgcmVjb25uZWN0aW5nIHdpdGggYnVpbHQgaW4gZXJyb3JcclxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIC8vIHJlY29ubmVjdCBhZnRlclxyXG4gICAgcmV0dXJuIE1hdGgubWluKG9wdGlvbnMuYXR0ZW1wdCAqIDEwMCwgMzAwMCk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBjb25zdCBjbGllbnQgPSByZWRpcy5jcmVhdGVDbGllbnQob3B0aW9ucylcclxuY29uc3QgY2xpZW50ID0gcHJvbWlzaWZ5QWxsKHJlZGlzLmNyZWF0ZUNsaWVudChvcHRpb25zKSlcclxuXHJcbmNsaWVudC5vbignZXJyb3InLCAoZXJyKSA9PiB7XHJcbiAgY29uc29sZS5sb2coJ1JlZGlzIENsaWVudCBFcnJvcjonICsgZXJyKVxyXG59KVxyXG5cclxuY29uc3Qgc2V0VmFsdWUgPSAoa2V5LCB2YWx1ZSwgdGltZSkgPT4ge1xyXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnIHx8IHZhbHVlID09IG51bGwgfHwgdmFsdWUgPT09ICcnKSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcclxuICAgIGlmICh0eXBlb2YgdGltZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgY2xpZW50LnNldChrZXksIHZhbHVlLCAnRVgnLCB0aW1lKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2xpZW50LnNldChrZXksIHZhbHVlKVxyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xyXG4gICAgLy8geyBrZXkxOiB2YWx1ZTEsIGtleTI6IHZhbHVlMn1cclxuICAgIC8vIE9iamVjdC5rZXlzKHZhbHVlKSA9PiBba2V5MSwga2V5Ml1cclxuICAgIE9iamVjdC5rZXlzKHZhbHVlKS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIGNsaWVudC5oc2V0KGtleSwgaXRlbSwgdmFsdWVbaXRlbV0sIHJlZGlzLnByaW50KVxyXG4gICAgfSlcclxuICB9XHJcbn1cclxuXHJcbi8vIGNvbnN0IHtwcm9taXNpZnl9ID0gcmVxdWlyZSgndXRpbCcpO1xyXG4vLyBjb25zdCBnZXRBc3luYyA9IHByb21pc2lmeShjbGllbnQuZ2V0KS5iaW5kKGNsaWVudCk7XHJcblxyXG5jb25zdCBnZXRWYWx1ZSA9IChrZXkpID0+IHtcclxuICByZXR1cm4gY2xpZW50LmdldEFzeW5jKGtleSlcclxufVxyXG5cclxuY29uc3QgZ2V0SFZhbHVlID0gKGtleSkgPT4ge1xyXG4gIC8vIHY4IFByb21pc2lmeSBtZXRob2QgdXNlIHV0aWwsIG11c3Qgbm9kZSA+IDhcclxuICAvLyByZXR1cm4gcHJvbWlzaWZ5KGNsaWVudC5oZ2V0YWxsKS5iaW5kKGNsaWVudCkoa2V5KVxyXG5cclxuICAvLyBibHVlYmlyZCBhc3luY1xyXG4gIHJldHVybiBjbGllbnQuaGdldGFsbEFzeW5jKGtleSlcclxufVxyXG5cclxuY29uc3QgZGVsVmFsdWUgPSAoa2V5KSA9PiB7XHJcbiAgY2xpZW50LmRlbChrZXksIChlcnIsIHJlcykgPT4ge1xyXG4gICAgaWYgKHJlcyA9PT0gMSkge1xyXG4gICAgICBjb25zb2xlLmxvZygnZGVsZXRlIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5sb2coJ2RlbGV0ZSByZWRpcyBrZXkgZXJyb3I6JyArIGVycilcclxuICAgIH1cclxuICB9KVxyXG59XHJcblxyXG5leHBvcnQge1xyXG4gIGNsaWVudCxcclxuICBzZXRWYWx1ZSxcclxuICBnZXRWYWx1ZSxcclxuICBnZXRIVmFsdWUsXHJcbiAgZGVsVmFsdWVcclxufSIsImltcG9ydCBzdmdDYXB0Y2hhIGZyb20gJ3N2Zy1jYXB0Y2hhJ1xyXG5pbXBvcnQgeyBnZXRWYWx1ZSwgc2V0VmFsdWUgfSBmcm9tICdAL2NvbmZpZy9SZWRpc0NvbmZpZydcclxuXHJcblxyXG5jbGFzcyBQdWJsaWNDb250cm9sbGVyIHtcclxuICBjb25zdHJ1Y3RvcigpIHsgfVxyXG4gIGFzeW5jIGdldENhcHRjaGEoY3R4KSB7XHJcbiAgICBjb25zdCBib2R5ID0gY3R4LnJlcXVlc3QucXVlcnlcclxuICAgIGNvbnN0IG5ld0NhcHRjYSA9IHN2Z0NhcHRjaGEuY3JlYXRlKHtcclxuICAgICAgc2l6ZTogNCxcclxuICAgICAgaWdub3JlQ2hhcnM6ICcwbzFpbCcsXHJcbiAgICAgIGNvbG9yOiB0cnVlLFxyXG4gICAgICBub2lzZTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNSksXHJcbiAgICAgIHdpZHRoOiAxNTAsXHJcbiAgICAgIGhlaWdodDogMzgsXHJcbiAgICB9KVxyXG4gICAgLy8g5L+d5a2Y5Zu+54mH6aqM6K+B56CB5pWw5o2u77yM6K6+572u6LaF5pe25pe26Ze077yM5Y2V5L2NOiBzXHJcbiAgICAvLyDorr7nva7lm77niYfpqozor4HnoIHotoXml7YxMOWIhumSn1xyXG4gICAgc2V0VmFsdWUoYm9keS5zaWQsIG5ld0NhcHRjYS50ZXh0LCAxMCAqIDYwKVxyXG4gICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgZGF0YTogbmV3Q2FwdGNhLmRhdGEsXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgUHVibGljQ29udHJvbGxlcigpXHJcbiIsImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcclxuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2luZGV4J1xyXG5cclxuLy8g5Yib5bu66L+e5o6lXHJcbm1vbmdvb3NlLmNvbm5lY3QoY29uZmlnLkRCX1VSTCwge1xyXG4gIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcclxuICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWVcclxufSlcclxuXHJcbi8vIOi/nuaOpeaIkOWKn1xyXG5tb25nb29zZS5jb25uZWN0aW9uLm9uKCdjb25uZWN0ZWQnLCAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coJ01vbmdvb3NlIGNvbm5lY3Rpb24gb3BlbiB0byAnICsgY29uZmlnLkRCX1VSTCk7XHJcbn0pXHJcblxyXG4vLyDov57mjqXlvILluLhcclxubW9uZ29vc2UuY29ubmVjdGlvbi5vbignZXJyb3InLCAoZXJyKSA9PiB7XHJcbiAgY29uc29sZS5sb2coJ01vbmdvb3NlIGNvbm5lY3Rpb24gZXJyb3I6ICcgKyBlcnIpO1xyXG59KVxyXG5cclxuLy8g5pat5byA6L+e5o6lXHJcbm1vbmdvb3NlLmNvbm5lY3Rpb24ub24oJ2Rpc2Nvbm5lY3RlZCcsICgpID0+IHtcclxuICBjb25zb2xlLmxvZygnTW9uZ29vc2UgY29ubmVjdGlvbiBkaXNjb25uZWN0ZWQnKVxyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UiLCJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnLi8uLi9jb25maWcvREJIZWxwbGVyJ1xyXG5pbXBvcnQgbW9tZW50IGZyb20gJ2RheWpzJ1xyXG5cclxuXHJcbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYVxyXG5cclxuY29uc3QgUG9zdFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdWlkOiB7dHlwZTpTdHJpbmcsIHJlZjogJ3VzZXJzJ30sXHJcbiAgICB0aXRsZToge3R5cGU6U3RyaW5nfSxcclxuICAgIGNvbnRlbnQ6IHt0eXBlOlN0cmluZ30sXHJcbiAgICBjcmVhdGVkOiB7dHlwZTpEYXRlXHR9LFxyXG4gICAgY2F0YWxvZzoge3R5cGU6U3RyaW5nfSxcclxuICAgIGZhdjoge3R5cGU6U3RyaW5nfSxcclxuICAgIGlzRW5kOiB7dHlwZTpTdHJpbmd9LFxyXG4gICAgcmVhZHM6IHt0eXBlOk51bWJlcn0sXHJcbiAgICBhbnN3ZXI6XHR7dHlwZTpOdW1iZXJ9LFxyXG4gICAgc3RhdHVzOlx0e3R5cGU6U3RyaW5nfSxcclxuICAgIGlzVG9wOiB7dHlwZTpTdHJpbmd9LFxyXG4gICAgc29ydDoge3R5cGU6U3RyaW5nfSxcclxuICAgIHRhZ3M6IHt0eXBlOlN0cmluZ31cclxufSlcclxuXHJcblBvc3RTY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24gKG5leHQpIHtcclxuICAgIHRoaXMuY3JlYXRlZCA9IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpXHJcbiAgICBuZXh0KClcclxufSlcclxuXHJcblBvc3RTY2hlbWEuc3RhdGljcyA9IHtcclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyDnrZvpgInmnaHku7YgXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc29ydCDmjpLluo/mlrnlvI9cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwYWdlIOWIhumhtemhteaVsFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbWl0IOWIhumhteadoeaVsFxyXG4gICAgICovXHJcbiAgICBnZXRMaXN0OiBmdW5jdGlvbiAob3B0aW9ucywgc29ydCwgcGFnZSwgbGltaXQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5maW5kKG9wdGlvbnMpXHJcbiAgICAgICAgLnNvcnQoe1tzb3J0XTogLTF9KVxyXG4gICAgICAgIC5za2lwKHBhZ2UgKiBsaW1pdClcclxuICAgICAgICAubGltaXQobGltaXQpXHJcbiAgICAgICAgLnBvcHVsYXRlKHtcclxuICAgICAgICAgICAgcGF0aDogJ3VpZCcsXHJcbiAgICAgICAgICAgIHNlbGVjdDogJ25hbWUnXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgUG9zdE1vZGVsID0gbW9uZ29vc2UubW9kZWwoJ3Bvc3QnLCBQb3N0U2NoZW1hKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9zdE1vZGVsIiwiaW1wb3J0IFBvc3QgZnJvbSAnLi8uLi9tb2RlbC9Qb3N0J1xyXG5cclxuY2xhc3MgQ29udGVudENvbnRyb2xsZXIge1xyXG4gICAgYXN5bmMgZ2V0UG9zdExpc3QgKGN0eCkge1xyXG4gICAgICAgIGNvbnN0IGJvZHkgPSBjdHgucXVlcnlcclxuICAgICAgICBjb25zb2xlLmxvZygnMTIzJyk7XHJcbiAgICAgICAgLy8gY29uc3QgcG9zdCA9IG5ldyBQb3N0KHtcclxuICAgICAgICAvLyAgICAgdGl0bGU6ICd0ZXN0IHRpdGxlJyxcclxuICAgICAgICAvLyAgICAgY29udGVudDogJ3Rlc3QgY29udGVudCcsXHJcbiAgICAgICAgLy8gICAgIGNhdGFsb2c6ICdhc2snLFxyXG4gICAgICAgIC8vICAgICBmYXY6IDIwLFxyXG4gICAgICAgIC8vICAgICBpc0VuZDogJzAnLFxyXG4gICAgICAgIC8vICAgICByZWFkczogJzAnLFxyXG4gICAgICAgIC8vICAgICBhbnN3ZXI6ICcwJyxcclxuICAgICAgICAvLyAgICAgc3RhdHVzOiAnMCcsXHJcbiAgICAgICAgLy8gICAgIGlzVG9wOiAnMCcsXHJcbiAgICAgICAgLy8gICAgIHNvcnQ6ICcwJyxcclxuICAgICAgICAvLyAgICAgdGFnczogW3tcclxuICAgICAgICAvLyAgICAgICAgIG5hbWU6ICfnsr7ljY4nLFxyXG4gICAgICAgIC8vICAgICAgICAgY2xhc3M6ICcnXHJcbiAgICAgICAgLy8gICAgIH1dXHJcbiAgICAgICAgLy8gfSlcclxuXHJcbiAgICAgICAgLy8gY29uc3QgdG1wID0gYXdhaXQgcG9zdC5zYXZlKClcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygn5L+d5a2Y5oiQ5YqfJyk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codG1wKVxyXG5cclxuICAgICAgICBjb25zdCBzb3J0ID0gYm9keS5zb3J0ID8gYm9keS5zb3J0IDogJ2NyZWF0ZWQnXHJcbiAgICAgICAgY29uc3QgcGFnZSA9IGJvZHkucGFnZSA/IHBhcnNlSW50KGJvZHkucGFnZSkgOiAwXHJcbiAgICAgICAgY29uc3QgbGltaXQgPSBib2R5LmxpbWl0ID8gcGFyc2VJbnQoYm9keS5saW1pdCkgOiAyMFxyXG4gICAgICAgIGxldCBvcHRpb25zID0ge31cclxuICAgICAgICBpZiAodHlwZW9mIGJvZHkuY2F0YWxvZyAhPT0gJ3VuZGVmaW5lZCcgJiYgYm9keS5jYXRhbG9nICE9PSAnJykge1xyXG4gICAgICAgICAgICBvcHRpb25zLmNhdGFsb2cgPSBib2R5LmNhdGFsb2dcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBib2R5LmlzVG9wICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBvcHRpb25zLmlzVG9wID0gYm9keS5pc1RvcFxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIGJvZHkuc3RhdHVzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBvcHRpb25zLnN0YXR1cyA9IGJvZHkuc3RhdHVzXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgYm9keS5pc0VuZCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5pc0VuZCA9IGJvZHkuaXNFbmRcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBib2R5LnRhZyAhPT0gJ3VuZGVmaW5lZCcgJiYgYm9keS50YWcgIT09ICcnKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMudGFncyA9IHsgJGVsZW1NYXRjaDoge25hbWU6IGJvZHkudGFnfSB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3QuZ2V0TGlzdChvcHRpb25zLCBzb3J0LCBwYWdlLCBsaW1pdClcclxuXHJcbiAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICAgICAgICBtc2c6ICfojrflj5bmlofnq6DliJfooajmiJDlip8nXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgQ29udGVudENvbnRyb2xsZXIoKSIsImltcG9ydCBSb3V0ZXIgZnJvbSAna29hLXJvdXRlcidcclxuaW1wb3J0IHB1YmxpY0NvbnRyb2xsZXIgZnJvbSAnLi4vYXBpL1B1YmxpY0NvbnRyb2xsZXInXHJcbmltcG9ydCBjb250ZW50Q29udHJvbGxlciBmcm9tICcuLi9hcGkvQ29udGVudENvbnRyb2xsZXInXHJcblxyXG5jb25zdCByb3V0ZXIgPSBuZXcgUm91dGVyKClcclxuXHJcbnJvdXRlci5wcmVmaXgoJy9wdWJsaWMnKVxyXG5cclxucm91dGVyLmdldCgnL2dldENhcHRjaGEnLCBwdWJsaWNDb250cm9sbGVyLmdldENhcHRjaGEpXHJcbnJvdXRlci5nZXQoJy9saXN0JywgY29udGVudENvbnRyb2xsZXIuZ2V0UG9zdExpc3QpXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyXHJcbiIsImltcG9ydCBub2RlbWFpbGVyIGZyb20gJ25vZGVtYWlsZXInXHJcblxyXG4vLyBhc3luYy4uYXdhaXQgaXMgbm90IGFsbG93ZWQgaW4gZ2xvYmFsIHNjb3BlLCBtdXN0IHVzZSBhIHdyYXBwZXJcclxuYXN5bmMgZnVuY3Rpb24gc2VuZChzZW5kSW5mbykge1xyXG4gIC8vIEdlbmVyYXRlIHRlc3QgU01UUCBzZXJ2aWNlIGFjY291bnQgZnJvbSBldGhlcmVhbC5lbWFpbFxyXG4gIC8vIE9ubHkgbmVlZGVkIGlmIHlvdSBkb24ndCBoYXZlIGEgcmVhbCBtYWlsIGFjY291bnQgZm9yIHRlc3RpbmdcclxuICAvLyBsZXQgdGVzdEFjY291bnQgPSBhd2FpdCBub2RlbWFpbGVyLmNyZWF0ZVRlc3RBY2NvdW50KClcclxuXHJcbiAgLy8gY3JlYXRlIHJldXNhYmxlIHRyYW5zcG9ydGVyIG9iamVjdCB1c2luZyB0aGUgZGVmYXVsdCBTTVRQIHRyYW5zcG9ydFxyXG4gIGxldCB0cmFuc3BvcnRlciA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcclxuICAgIGhvc3Q6ICdzbXRwLnFxLmNvbScsXHJcbiAgICBwb3J0OiA1ODcsXHJcbiAgICBzZWN1cmU6IGZhbHNlLCAvLyB0cnVlIGZvciA0NjUsIGZhbHNlIGZvciBvdGhlciBwb3J0c1xyXG4gICAgYXV0aDoge1xyXG4gICAgICB1c2VyOiAnaW1vb2NicmlhbkBxcS5jb20nLCAvLyBnZW5lcmF0ZWQgZXRoZXJlYWwgdXNlclxyXG4gICAgICBwYXNzOiAncmJrY2J4d3J1cnlnamZjYScsIC8vIGdlbmVyYXRlZCBldGhlcmVhbCBwYXNzd29yZFxyXG4gICAgfSxcclxuICB9KVxyXG5cclxuICAvLyBsZXQgc2VuZEluZm8gPSB7XHJcbiAgLy8gICBjb2RlOiAnMTIzNCcsXHJcbiAgLy8gICBleHBpcmU6ICcyMDE5LTEwLTAxJyxcclxuICAvLyAgIGVtYWlsOiAnaW1vb2NicmlhbkBxcS5jb20nLFxyXG4gIC8vICAgdXNlcjogJ0JyaWFuJyxcclxuICAvLyB9XHJcblxyXG4gIGxldCB1cmwgPSAnaHR0cDovL3d3dy5pbW9vYy5jb20nXHJcblxyXG4gIC8vIHNlbmQgbWFpbCB3aXRoIGRlZmluZWQgdHJhbnNwb3J0IG9iamVjdFxyXG4gIGxldCBpbmZvID0gYXdhaXQgdHJhbnNwb3J0ZXIuc2VuZE1haWwoe1xyXG4gICAgZnJvbTogJ1wi6K6k6K+B6YKu5Lu2XCIgPGltb29jYnJpYW5AcXEuY29tPicsIC8vIHNlbmRlciBhZGRyZXNzXHJcbiAgICB0bzogc2VuZEluZm8uZW1haWwsIC8vIGxpc3Qgb2YgcmVjZWl2ZXJzXHJcbiAgICBzdWJqZWN0OlxyXG4gICAgICBzZW5kSW5mby51c2VyICE9PSAnJ1xyXG4gICAgICAgID8gYOS9oOWlveW8gOWPkeiAhe+8jCR7c2VuZEluZm8udXNlcn3vvIHjgIrmhZXor77nvZHliY3nq6/lhajmoIjlrp7ot7XjgIvms6jlhoznoIFgXHJcbiAgICAgICAgOiAn44CK5oWV6K++572R5YmN56uv5YWo5qCI5a6e6Le144CL5rOo5YaM56CBJywgLy8gU3ViamVjdCBsaW5lXHJcbiAgICB0ZXh0OiBg5oKo5Zyo44CK5oWV6K++572R5YmN56uv5YWo5qCI5a6e6Le144CL6K++56iL5Lit5rOo5YaM77yM5oKo55qE6YKA6K+356CB5pivJHtcclxuICAgICAgc2VuZEluZm8uY29kZVxyXG4gICAgfSzpgoDor7fnoIHnmoTov4fmnJ/ml7bpl7Q6ICR7c2VuZEluZm8uZXhwaXJlfWAsIC8vIHBsYWluIHRleHQgYm9keVxyXG4gICAgaHRtbDogYFxyXG4gICAgICAgIDxkaXYgc3R5bGU9XCJib3JkZXI6IDFweCBzb2xpZCAjZGNkY2RjO2NvbG9yOiAjNjc2NzY3O3dpZHRoOiA2MDBweDsgbWFyZ2luOiAwIGF1dG87IHBhZGRpbmctYm90dG9tOiA1MHB4O3Bvc2l0aW9uOiByZWxhdGl2ZTtcIj5cclxuICAgICAgICA8ZGl2IHN0eWxlPVwiaGVpZ2h0OiA2MHB4OyBiYWNrZ3JvdW5kOiAjMzkzZDQ5OyBsaW5lLWhlaWdodDogNjBweDsgY29sb3I6ICM1OGEzNmY7IGZvbnQtc2l6ZTogMThweDtwYWRkaW5nLWxlZnQ6IDEwcHg7XCI+SW1vb2PnpL7ljLrigJTigJTmrKLov47mnaXliLDlrpjmlrnnpL7ljLo8L2Rpdj5cclxuICAgICAgICA8ZGl2IHN0eWxlPVwicGFkZGluZzogMjVweFwiPlxyXG4gICAgICAgICAgPGRpdj7mgqjlpb3vvIwke3NlbmRJbmZvLnVzZXJ956ul6Z6L77yM6YeN572u6ZO+5o6l5pyJ5pWI5pe26Ze0MzDliIbpkp/vvIzor7flnKgke1xyXG4gICAgICBzZW5kSW5mby5leHBpcmVcclxuICAgIH3kuYvliY3ph43nva7mgqjnmoTlr4bnoIHvvJo8L2Rpdj5cclxuICAgICAgICAgIDxhIGhyZWY9XCIke3VybH1cIiBzdHlsZT1cInBhZGRpbmc6IDEwcHggMjBweDsgY29sb3I6ICNmZmY7IGJhY2tncm91bmQ6ICMwMDllOTQ7IGRpc3BsYXk6IGlubGluZS1ibG9jazttYXJnaW46IDE1cHggMDtcIj7nq4vljbPph43nva7lr4bnoIE8L2E+XHJcbiAgICAgICAgICA8ZGl2IHN0eWxlPVwicGFkZGluZzogNXB4OyBiYWNrZ3JvdW5kOiAjZjJmMmYyO1wiPuWmguaenOivpemCruS7tuS4jeaYr+eUseS9oOacrOS6uuaTjeS9nO+8jOivt+WLv+i/m+ihjOa/gOa0u++8geWQpuWImeS9oOeahOmCrueuseWwhuS8muiiq+S7luS6uue7keWumuOAgjwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kOiAjZmFmYWZhOyBjb2xvcjogI2I0YjRiNDt0ZXh0LWFsaWduOiBjZW50ZXI7IGxpbmUtaGVpZ2h0OiA0NXB4OyBoZWlnaHQ6IDQ1cHg7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogMDsgYm90dG9tOiAwO3dpZHRoOiAxMDAlO1wiPuezu+e7n+mCruS7tu+8jOivt+WLv+ebtOaOpeWbnuWkjTwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgICBgLCAvLyBodG1sIGJvZHlcclxuICB9KVxyXG5cclxuICByZXR1cm4gJ01lc3NhZ2Ugc2VudDogJXMnLCBpbmZvLm1lc3NhZ2VJZFxyXG4gIC8vIE1lc3NhZ2Ugc2VudDogPGI2NThmOGNhLTYyOTYtY2NmNC04MzA2LTg3ZDU3YTBiNDMyMUBleGFtcGxlLmNvbT5cclxuXHJcbiAgLy8gUHJldmlldyBvbmx5IGF2YWlsYWJsZSB3aGVuIHNlbmRpbmcgdGhyb3VnaCBhbiBFdGhlcmVhbCBhY2NvdW50XHJcbiAgLy8gY29uc29sZS5sb2coJ1ByZXZpZXcgVVJMOiAlcycsIG5vZGVtYWlsZXIuZ2V0VGVzdE1lc3NhZ2VVcmwoaW5mbykpXHJcbiAgLy8gUHJldmlldyBVUkw6IGh0dHBzOi8vZXRoZXJlYWwuZW1haWwvbWVzc2FnZS9XYVFLTWdLZGR4UURvb3UuLi5cclxufVxyXG5cclxuLy8gbWFpbigpLmNhdGNoKGNvbnNvbGUuZXJyb3IpXHJcblxyXG5leHBvcnQgZGVmYXVsdCBzZW5kXHJcbiIsImltcG9ydCB7IGdldFZhbHVlIH0gZnJvbSAnQC9jb25maWcvUmVkaXNDb25maWcnO1xyXG5cclxuY29uc3QgY2hlY2tDb2RlID0gYXN5bmMgKGtleSwgdmFsdWUpID0+IHtcclxuICBjb25zdCByZWRpc0RhdGEgPSBhd2FpdCBnZXRWYWx1ZShrZXkpXHJcbiAgaWYgKHJlZGlzRGF0YSAhPSBudWxsKSB7XHJcbiAgICBpZiAocmVkaXNEYXRhLnRvTG93ZXJDYXNlKCkgPT09IHZhbHVlLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgcmV0dXJuIHRydWVcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgY2hlY2tDb2RlXHJcbn0iLCJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnQC9jb25maWcvREJIZWxwbGVyJ1xyXG5cclxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXHJcblxyXG5jb25zdCBVc2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgJ3VzZXJuYW1lJzogeyB0eXBlOiBTdHJpbmcgfSxcclxuICAncGFzc3dvcmQnOiB7IHR5cGU6IFN0cmluZyB9LFxyXG59KVxyXG5cclxuY29uc3QgVXNlck1vZGVsID0gbW9uZ29vc2UubW9kZWwoJ3VzZXJzJywgVXNlclNjaGVtYSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVzZXJNb2RlbCIsImltcG9ydCBzZW5kIGZyb20gJ0AvY29uZmlnL01haWxDb25maWcnXHJcbmltcG9ydCBtb21lbnQgZnJvbSAnZGF5anMnXHJcbmltcG9ydCBqc29ud2VidG9rZW4gZnJvbSAnanNvbndlYnRva2VuJ1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJ0AvY29uZmlnJ1xyXG5pbXBvcnQgeyBjaGVja0NvZGUgfSBmcm9tICdAL2NvbW1vbi9VdGlscydcclxuaW1wb3J0IFVzZXIgZnJvbSAnQC9tb2RlbC9Vc2VyJ1xyXG5cclxuY2xhc3MgTG9naW5Db250cm9sbGVyIHtcclxuICBjb25zdHJ1Y3RvcigpIHsgfVxyXG4gIGFzeW5jIGZvcmdldChjdHgpIHtcclxuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcclxuICAgIGNvbnNvbGUubG9nKGJvZHkpXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBib2R5LnVzZXJuYW1lIC0+IGRhdGFiYXNlIC0+IGVtYWlsXHJcbiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBzZW5kKHtcclxuICAgICAgICBjb2RlOiAnMTIzNCcsXHJcbiAgICAgICAgZXhwaXJlOiBtb21lbnQoKVxyXG4gICAgICAgICAgLmFkZCgzMCwgJ21pbnV0ZXMnKVxyXG4gICAgICAgICAgLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpLFxyXG4gICAgICAgIGVtYWlsOiBib2R5LnVzZXJuYW1lLFxyXG4gICAgICAgIHVzZXI6ICdCcmlhbicsXHJcbiAgICAgIH0pXHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgICAgbXNnOiAn6YKu5Lu25Y+R6YCB5oiQ5YqfJyxcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhlKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgbG9naW4oY3R4KSB7XHJcbiAgICAvLyBkZWJ1Z2dlclxyXG4gICAgLy8g5o6l5pS255So5oi355qE5pWw5o2uXHJcbiAgICAvLyDov5Tlm550b2tlblxyXG4gICAgY29uc3QgeyBib2R5IH0gPSBjdHgucmVxdWVzdFxyXG4gICAgbGV0IHNpZCA9IGJvZHkuc2lkXHJcbiAgICBsZXQgY29kZSA9IGJvZHkuY29kZVxyXG4gICAgLy8g6aqM6K+B5Zu+54mH6aqM6K+B56CB55qE5pe25pWI5oCn44CB5q2j56Gu5oCnXHJcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgY2hlY2tDb2RlKHNpZCwgY29kZSlcclxuICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgLy8g6aqM6K+B55So5oi36LSm5Y+35a+G56CB5piv5ZCm5q2j56GuXHJcbiAgICAgIGxldCBjaGVja1VzZXJQYXNzd2QgPSBmYWxzZVxyXG4gICAgICBsZXQgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IHVzZXJuYW1lOiBib2R5LnVzZXJuYW1lIH0pXHJcbiAgICAgIGlmICh1c2VyLnBhc3N3b3JkID09PSBib2R5LnBhc3N3b3JkKSB7XHJcbiAgICAgICAgY2hlY2tVc2VyUGFzc3dkID0gdHJ1ZVxyXG4gICAgICB9XHJcbiAgICAgIC8vIG1vbmdvRELmn6XlupNcclxuICAgICAgaWYgKGNoZWNrVXNlclBhc3N3ZCkge1xyXG4gICAgICAgIC8vIOmqjOivgemAmui/h++8jOi/lOWbnlRva2Vu5pWw5o2uXHJcbiAgICAgICAgY29uc29sZS5sb2coJ0hlbGxvIGxvZ2luJylcclxuICAgICAgICBsZXQgdG9rZW4gPSBqc29ud2VidG9rZW4uc2lnbih7IF9pZDogJ3p6eCcgfSwgY29uZmlnLkpXVF9TRUNSRVQsIHtcclxuICAgICAgICAgIGV4cGlyZXNJbjogJzFkJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICB0b2tlbjogdG9rZW5cclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8g55So5oi35ZCNIOWvhueggemqjOivgeWksei0pe+8jOi/lOWbnuaPkOekulxyXG4gICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgY29kZTogNDA0LFxyXG4gICAgICAgICAgbXNnOiAn55So5oi35ZCN5oiW6ICF5a+G56CB6ZSZ6K+vJ1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8g5Zu+54mH6aqM6K+B56CB5qCh6aqM5aSx6LSlXHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDQwMSxcclxuICAgICAgICBtc2c6ICflm77niYfpqozor4HnoIHkuI3mraPnoa4s6K+35qOA5p+l77yBJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyByZWcoY3R4KSB7XHJcbiAgICAvLyDmjqXmlLblrqLmiLfnq6/nmoTmlbDmja5cclxuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcclxuICAgIC8vIOagoemqjOmqjOivgeeggeeahOWGheWuue+8iOaXtuaViOaAp+OAgeacieaViOaAp++8iVxyXG4gICAgbGV0IHNpZCA9IGJvZHkuc2lkXHJcbiAgICBsZXQgY29kZSA9IGJvZHkuY29kZVxyXG4gICAgbGV0IG1zZyA9IHt9XHJcbiAgICAvLyDpqozor4Hlm77niYfpqozor4HnoIHnmoTml7bmlYjmgKfjgIHmraPnoa7mgKdcclxuICAgIGxldCByZXN1bHQgPSBhd2FpdCBjaGVja0NvZGUoc2lkLCBjb2RlKVxyXG4gICAgbGV0IGNoZWNrID0gdHJ1ZVxyXG4gICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAvLyDmn6XlupPvvIznnIt1c2VybmFtZeaYr+WQpuiiq+azqOWGjFxyXG4gICAgICBsZXQgdXNlcjEgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyB1c2VybmFtZTogYm9keS51c2VybmFtZSB9KVxyXG4gICAgICBpZiAodXNlcjEgIT09IG51bGwgJiYgdHlwZW9mIHVzZXIxLnVzZXJuYW1lICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIG1zZy51c2VybmFtZSA9IFsn5q2k6YKu566x5bey57uP5rOo5YaM77yM5Y+v5Lul6YCa6L+H6YKu566x5om+5Zue5a+G56CBJ11cclxuICAgICAgICBjaGVjayA9IGZhbHNlXHJcbiAgICAgIH1cclxuICAgICAgbGV0IHVzZXIyID0gYXdhaXQgVXNlci5maW5kT25lKHsgbmFtZTogYm9keS5uYW1lIH0pXHJcbiAgICAgIC8vIOafpeW6k++8jOeci25hbWXmmK/lkKbooqvms6jlhoxcclxuICAgICAgaWYgKHVzZXIyICE9PSBudWxsICYmIHR5cGVvZiB1c2VyMi5uYW1lICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIG1zZy5uYW1lID0gWyfmraTmmLXnp7Dlt7Lnu4/ooqvms6jlhozvvIzor7fkv67mlLknXVxyXG4gICAgICAgIGNoZWNrID0gZmFsc2VcclxuICAgICAgfVxyXG4gICAgICAvLyDlhpnlhaXmlbDmja7liLDmlbDmja7lupNcclxuICAgICAgaWYgKGNoZWNrKSB7XHJcbiAgICAgICAgYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKGJvZHkucGFzc3dvcmQsIDUpXHJcbiAgICAgICAgbGV0IHVzZXIgPSBuZXcgVXNlcih7XHJcbiAgICAgICAgICB1c2VybmFtZTogYm9keS51c2VybmFtZSxcclxuICAgICAgICAgIG5hbWU6IGJvZHkubmFtZSxcclxuICAgICAgICAgIHBhc3N3b3JkOiBib2R5LnBhc3N3b3JkLFxyXG4gICAgICAgICAgY3JlYXRlZDogbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJylcclxuICAgICAgICB9KVxyXG4gICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB1c2VyLnNhdmUoKVxyXG4gICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICAgICAgbXNnOiAn5rOo5YaM5oiQ5YqfJ1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gdmVldmFsaWRhdGUg5pi+56S655qE6ZSZ6K+vXHJcbiAgICAgIG1zZy5jb2RlID0gWyfpqozor4HnoIHlt7Lnu4/lpLHmlYjvvIzor7fph43mlrDojrflj5bvvIEnXVxyXG4gICAgfVxyXG4gICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgbXNnOiBtc2dcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBMb2dpbkNvbnRyb2xsZXIoKVxyXG4iLCJpbXBvcnQgUm91dGVyIGZyb20gJ2tvYS1yb3V0ZXInXHJcbmltcG9ydCBsb2dpbkNvbnRyb2xsZXIgZnJvbSAnQC9hcGkvTG9naW5Db250cm9sbGVyJ1xyXG5cclxuY29uc3Qgcm91dGVyID0gbmV3IFJvdXRlcigpXHJcblxyXG5yb3V0ZXIucHJlZml4KCcvbG9naW4nKVxyXG5yb3V0ZXIucG9zdCgnL2ZvcmdldCcsIGxvZ2luQ29udHJvbGxlci5mb3JnZXQpXHJcbnJvdXRlci5wb3N0KCcvbG9naW4nLCBsb2dpbkNvbnRyb2xsZXIubG9naW4pXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXJcclxuIiwiaW1wb3J0IGNvbWJpbmVSb3V0ZXMgZnJvbSAna29hLWNvbWJpbmUtcm91dGVycydcclxuXHJcbmltcG9ydCBwdWJsaWNSb3V0ZXIgZnJvbSAnLi9wdWJsaWNSb3V0ZXInXHJcbmltcG9ydCBsb2dpblJvdXRlciBmcm9tICcuL2xvZ2luUm91dGVyJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29tYmluZVJvdXRlcyhwdWJsaWNSb3V0ZXIsIGxvZ2luUm91dGVyKVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///21\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__dirname) {/* harmony import */ var koa__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n/* harmony import */ var koa__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var koa_jwt__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6);\n/* harmony import */ var koa_jwt__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(koa_jwt__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(7);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var koa_helmet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8);\n/* harmony import */ var koa_helmet__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(koa_helmet__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var koa_static__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(9);\n/* harmony import */ var koa_static__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(koa_static__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _routes_routes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(21);\n/* harmony import */ var koa_body__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(15);\n/* harmony import */ var koa_body__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(koa_body__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var koa_json__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(16);\n/* harmony import */ var koa_json__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(koa_json__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _koa_cors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(17);\n/* harmony import */ var _koa_cors__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_koa_cors__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var koa_compose__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(18);\n/* harmony import */ var koa_compose__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(koa_compose__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var koa_compress__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(19);\n/* harmony import */ var koa_compress__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(koa_compress__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(0);\n/* harmony import */ var _common_ErrorHandle__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(20);\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst app = new koa__WEBPACK_IMPORTED_MODULE_0___default.a();\nconst isDevMode =  false ? undefined : true; // 定义公共路径，不需要jwt鉴权\n\nconst jwt = koa_jwt__WEBPACK_IMPORTED_MODULE_1___default()({\n  secret: _config_index__WEBPACK_IMPORTED_MODULE_11__[/* default */ "a"].JWT_SECRET\n}).unless({\n  path: [/^\\/public/, /\\/login/]\n});\n/**\r\n * 使用koa-compose 集成中间件\r\n */\n\nconst middleware = koa_compose__WEBPACK_IMPORTED_MODULE_9___default()([koa_body__WEBPACK_IMPORTED_MODULE_6___default()(), koa_static__WEBPACK_IMPORTED_MODULE_4___default()(path__WEBPACK_IMPORTED_MODULE_2___default.a.join(__dirname, \'../public\')), _koa_cors__WEBPACK_IMPORTED_MODULE_8___default()(), koa_json__WEBPACK_IMPORTED_MODULE_7___default()({\n  pretty: false,\n  param: \'pretty\'\n}), koa_helmet__WEBPACK_IMPORTED_MODULE_3___default()(), _common_ErrorHandle__WEBPACK_IMPORTED_MODULE_12__[/* default */ "a"], jwt]);\n\nif (!isDevMode) {\n  app.use(koa_compress__WEBPACK_IMPORTED_MODULE_10___default()());\n}\n\napp.use(middleware);\napp.use(Object(_routes_routes__WEBPACK_IMPORTED_MODULE_5__[/* default */ "a"])());\napp.listen(3000);\n/* WEBPACK VAR INJECTION */}.call(this, "src"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/YjYzNSJdLCJuYW1lcyI6WyJhcHAiLCJrb2EiLCJpc0Rldk1vZGUiLCJwcm9jZXNzIiwiand0IiwiSldUIiwic2VjcmV0IiwiY29uZmlnIiwiSldUX1NFQ1JFVCIsInVubGVzcyIsInBhdGgiLCJtaWRkbGV3YXJlIiwiY29tcG9zZSIsImtvYUJvZHkiLCJzdGF0aWNzIiwiam9pbiIsIl9fZGlybmFtZSIsImNvcnMiLCJqc29udXRpbCIsInByZXR0eSIsInBhcmFtIiwiaGVsbWV0IiwiZXJyb3JIYW5kbGUiLCJ1c2UiLCJjb21wcmVzcyIsInJvdXRlciIsImxpc3RlbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSxNQUFNQSxHQUFHLEdBQUcsSUFBSUMsMENBQUosRUFBWjtBQUVBLE1BQU1DLFNBQVMsR0FBR0MsTUFBQSxHQUF3QyxTQUF4QyxHQUFnRCxJQUFsRSxDLENBRUE7O0FBQ0EsTUFBTUMsR0FBRyxHQUFHQyw4Q0FBRyxDQUFDO0FBQUVDLFFBQU0sRUFBRUMsOERBQU0sQ0FBQ0M7QUFBakIsQ0FBRCxDQUFILENBQW1DQyxNQUFuQyxDQUEwQztBQUFFQyxNQUFJLEVBQUUsQ0FBQyxXQUFELEVBQWMsU0FBZDtBQUFSLENBQTFDLENBQVo7QUFFQTs7OztBQUdBLE1BQU1DLFVBQVUsR0FBR0Msa0RBQU8sQ0FBQyxDQUN6QkMsK0NBQU8sRUFEa0IsRUFFekJDLGlEQUFPLENBQUNKLDJDQUFJLENBQUNLLElBQUwsQ0FBVUMsU0FBVixFQUFxQixXQUFyQixDQUFELENBRmtCLEVBR3pCQyxnREFBSSxFQUhxQixFQUl6QkMsK0NBQVEsQ0FBQztBQUFFQyxRQUFNLEVBQUUsS0FBVjtBQUFpQkMsT0FBSyxFQUFFO0FBQXhCLENBQUQsQ0FKaUIsRUFLekJDLGlEQUFNLEVBTG1CLEVBTXpCQyxvRUFOeUIsRUFPekJsQixHQVB5QixDQUFELENBQTFCOztBQVVBLElBQUksQ0FBQ0YsU0FBTCxFQUFnQjtBQUNkRixLQUFHLENBQUN1QixHQUFKLENBQVFDLG9EQUFRLEVBQWhCO0FBQ0Q7O0FBRUR4QixHQUFHLENBQUN1QixHQUFKLENBQVFaLFVBQVI7QUFDQVgsR0FBRyxDQUFDdUIsR0FBSixDQUFRRSxzRUFBTSxFQUFkO0FBRUF6QixHQUFHLENBQUMwQixNQUFKLENBQVcsSUFBWCxFIiwiZmlsZSI6IjIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGtvYSBmcm9tICdrb2EnXHJcbmltcG9ydCBKV1QgZnJvbSAna29hLWp3dCdcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcclxuaW1wb3J0IGhlbG1ldCBmcm9tICdrb2EtaGVsbWV0J1xyXG5pbXBvcnQgc3RhdGljcyBmcm9tICdrb2Etc3RhdGljJ1xyXG5pbXBvcnQgcm91dGVyIGZyb20gJy4vcm91dGVzL3JvdXRlcydcclxuaW1wb3J0IGtvYUJvZHkgZnJvbSAna29hLWJvZHknXHJcbmltcG9ydCBqc29udXRpbCBmcm9tICdrb2EtanNvbidcclxuaW1wb3J0IGNvcnMgZnJvbSAnQGtvYS9jb3JzJ1xyXG5pbXBvcnQgY29tcG9zZSBmcm9tICdrb2EtY29tcG9zZSdcclxuaW1wb3J0IGNvbXByZXNzIGZyb20gJ2tvYS1jb21wcmVzcydcclxuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZy9pbmRleCdcclxuaW1wb3J0IGVycm9ySGFuZGxlIGZyb20gJy4vY29tbW9uL0Vycm9ySGFuZGxlJ1xyXG5cclxuY29uc3QgYXBwID0gbmV3IGtvYSgpXHJcblxyXG5jb25zdCBpc0Rldk1vZGUgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gZmFsc2UgOiB0cnVlXHJcblxyXG4vLyDlrprkuYnlhazlhbHot6/lvoTvvIzkuI3pnIDopoFqd3TpibTmnYNcclxuY29uc3Qgand0ID0gSldUKHsgc2VjcmV0OiBjb25maWcuSldUX1NFQ1JFVCB9KS51bmxlc3MoeyBwYXRoOiBbL15cXC9wdWJsaWMvLCAvXFwvbG9naW4vXSB9KVxyXG5cclxuLyoqXHJcbiAqIOS9v+eUqGtvYS1jb21wb3NlIOmbhuaIkOS4remXtOS7tlxyXG4gKi9cclxuY29uc3QgbWlkZGxld2FyZSA9IGNvbXBvc2UoW1xyXG4gIGtvYUJvZHkoKSxcclxuICBzdGF0aWNzKHBhdGguam9pbihfX2Rpcm5hbWUsICcuLi9wdWJsaWMnKSksXHJcbiAgY29ycygpLFxyXG4gIGpzb251dGlsKHsgcHJldHR5OiBmYWxzZSwgcGFyYW06ICdwcmV0dHknIH0pLFxyXG4gIGhlbG1ldCgpLFxyXG4gIGVycm9ySGFuZGxlLFxyXG4gIGp3dFxyXG5dKVxyXG5cclxuaWYgKCFpc0Rldk1vZGUpIHtcclxuICBhcHAudXNlKGNvbXByZXNzKCkpXHJcbn1cclxuXHJcbmFwcC51c2UobWlkZGxld2FyZSlcclxuYXBwLnVzZShyb3V0ZXIoKSlcclxuXHJcbmFwcC5saXN0ZW4oMzAwMClcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///22\n')}]);